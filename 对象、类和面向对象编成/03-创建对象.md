## 创建对象

### 工厂模式

工厂模式其实就是将创建对象的过程封装到一个函数中，对使用掩藏了创建对象的具体过程

```js
function createPerson(name, age) {
  const obj = new Object();
  obj.name = name;
  obj.age = age;
  return obj;
}

const peroson = createPerson('zh', 22);

console.log(person); // {name:'zh',age:22}
```

**工厂模式的问题：**无法识别对象的类型，不能判断该对象是由哪个工厂函数创建的。

### 构造函数

> ECMAScript 中的构造函数是用于创建特定类型的对象的。向 Object 等原声的构造函数，可以直接在执行环境中使用。

```js
function Person(name, age) {
  this.name = name;
  this.age = age;
}

const person = new Perons('zh', 22);

console.log(person); // {name:'zh',age:22}
```

#### 构造函数的执行流程

- 在内存中创建一个对象
- 这个新对象 [[Prototype]] 特性被赋值成构造函数的 prototype 属性
- 构造函数的 this 指向新对象
- 执行构造函数内部的代码
- 若构造函数没有显示的返回一个对象(显示的返回非引用类型数据会被忽略)，则返回这个新对象，否则返回定义的值

#### 构造函数和工厂模式的区别

- 没有显示的创建对象
- 属性和方法直接赋值给 this
- 没有 return 语句
- 必须使用 new 关键字

#### 识别对象的类型 ---- instanceof 操作符

> 使用 instanceof 操作符可以确定一个对象所属的类型

```js
console.log(perons instanceof Person); //true
```

#### 构造函数也是函数

> 当不使用 new 关键字调用构造函数是，构造函数作为普通函数来执行，this 默认情况下指向 window（global），也就是说添加的属性和方法会成为全局的属性和方法

#### 构造函数的问题

> 构造函数的问题在于，在每一个创建的实例上都存在相同的属性和方法
